<!doctype html>
<html lang="en">
<head>
  {% load static %}
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cartem</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="{% static 'ventas/css/styles.css' %}">
  <style>
    .gif-container {
      background-image: url('./Cartem/Cartem/Static/IMG/PIDE.gif');
      background-size: cover;
      background-position: center;
      width: 100%;
      height: 700px; /* Ajusta la altura según sea necesario */
      margin-top: 0px; /* Espacio de separación con el navbar */
    }

    #mealCarousel {
      max-width: 400px; /* Ancho máximo del carousel */
      margin: auto; /* Centrar el carousel horizontalmente */
      margin-top: 100px; /* Espacio superior */
    }
    #TextoPresentacion {
      margin: auto;
      margin-top: 100px;
    }

    .navbar-brand img {
      height: 40px; /* Ajusta la altura del logo según sea necesario */
      width: auto; /* Mantiene las proporciones del logo */
      margin-right: 10px; /* Espacio entre el logo y el texto */
    }

    .card-container {
      margin: 50px auto;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      padding: 20px;
    }

    .card-container .card {
      text-decoration: none;
      color: white;
      transition: transform 0.3s ease;
      height: 200px; /* Altura de las tarjetas */
      overflow: hidden;
    }

    .card-container .card img {
      height: 100%; /* La imagen ocupa toda la tarjeta */
      object-fit: cover; /* Ajusta la imagen dentro de la tarjeta */
    }

    .card-container .card:hover {
      transform: scale(1.1);
    }

    .card-row-2 {
      grid-column: span 3;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .left-image, .right-image {
      position: absolute;
      width: 400px; /* Ancho de las imágenes */
      height: 200%; /* Altura igual al contenedor */
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat; /* Evita que la imagen se repita */
      z-index: -1; /* Coloca las imágenes detrás del contenido */
    }
    
    .left-image {
      top: 700px; /* Ajusta la posición hacia abajo */
      left: -20px; /* Ajusta la posición a la izquierda */
      background-image: url('./Cartem/Cartem/Static/IMG/Menu Online (8).png'); /* URL de la imagen izquierda */
    }
    
    .right-image {
      top: 700px; /* Ajusta la posición hacia abajo */
      right: -20px; /* Ajusta la posición a la derecha */
      background-image: url('./Cartem/Cartem/Static/IMG/Menu Online (9).png'); /* URL de la imagen derecha */
    }

  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color: #FF795C;">
  <div class="container">
    <a class="navbar-brand" href="#">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <form class="d-flex mx-auto">
        <input class="form-control me-2" type="search" placeholder="Buscar" aria-label="Search">
        <button class="btn btn-outline-light" type="submit">Buscar</button>
      </form>
      <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'InicioS' %}">Iniciar Sesión</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'CrearC' %}">Crear Cuenta</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Menú
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="#">Ver Promociones</a></li>
            <li><a class="dropdown-item" href="{% url 'Lista' %}">Ver Menús</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Ver Plato del Día</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- GIF Container -->
<div class="gif-container">
  <!-- Aquí va el carousel -->
</div>

<!-- Contenedor principal -->
<div class="container">

  <!-- Imagen a la izquierda -->
  <div class="left-image"></div>

  <!-- Nueva imagen entre el carousel y las tarjetas -->
  <div class="container my-4">
    <img src="{% static 'ventas/img/1,286.png' %}" class="img-fluid" alt="Imagen adicional">
  </div>

  <!-- Imagen a la derecha -->
  <div class="right-image"></div>

</div>

<!-- Carousel -->
<div id="mealCarousel" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <!-- Slides del carousel se llenarán dinámicamente -->
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#mealCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Anterior</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#mealCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Siguiente</span>
  </button>
</div>

<!-- Nueva imagen entre el carousel y las tarjetas -->
<div class="container my-4">
  <img src="{% static 'ventas/img/Menu Online (200 x 200 px) (Banner clásico de Mercado Shops para escritorio (mediano)).png' %}">
</div>

<!-- Contenedor para las tarjetas -->
<div class="card-container" id="cardContainer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<!-- JavaScript para llenar el carousel y las tarjetas con datos de la API -->
<script>
  // Objeto de traducción
  const translations = {
    "Beef": "Carne de Res",
    "Chicken": "Pollo",
    "Dessert": "Postre",
    "Lamb": "Cordero",
    "Miscellaneous": "Misceláneo",
    "Pasta": "Pasta",
    "Pork": "Cerdo",
    "Seafood": "Mariscos",
    "Side": "Acompañamiento",
    "Starter": "Entrante",
    "Vegan": "Vegano",
    "Vegetarian": "Vegetariano",
    "Breakfast": "Desayuno",
    "Goat": "Cabrito"
  };

  fetch('https://www.themealdb.com/api/json/v1/1/categories.php')
    .then(response => response.json())
    .then(data => {
      const categories = data.categories;

      // Llenar el carousel
      const carouselInner = document.querySelector('.carousel-inner');
      categories.forEach((category, index) => {
        const activeClass = index === 0 ? 'active' : ''; // Marcar el primer slide como activo

        const slide = `
          <div class="carousel-item ${activeClass}">
            <img src="${category.strCategoryThumb}" class="d-block w-100" alt="${category.strCategory}">
            <div class="carousel-caption d-none d-md-block"></div>
          </div>
        `;

        carouselInner.innerHTML += slide;
      });

      // Llenar las tarjetas
      const cardContainer = document.getElementById('cardContainer');

      // Crear la primera fila de 3 tarjetas
      for (let i = 0; i < 3; i++) {
        const category = categories[i];
        const translatedTitle = translations[category.strCategory] || category.strCategory;

        const card = `
          <a href="{% url 'Session' %}?categoria=${category.strCategory}" class="card">
            <img src="${category.strCategoryThumb}" class="card-img-top" alt="${category.strCategory}">
            <div class="card-body">
              <h5 class="card-title">${translatedTitle}</h5>
            </div>
          </a>
        `;

        cardContainer.innerHTML += card;
      }

      // Crear la segunda fila de 2 tarjetas
      const secondRow = `
        <div class="card-row-2">
          ${categories.slice(3, 5).map(category => `
            <a href="{% url 'Session' %}?categoria=${category.strCategory}" class="card"
              <img src="${category.strCategoryThumb}" class="card-img-top" alt="${category.strCategory}">
              <div class="card-body">
                <h5 class="card-title">${translations[category.strCategory] || category.strCategory}</h5>
              </div>
            </a>
          `).join('')}
        </div>
      `;

      cardContainer.innerHTML += secondRow;
    })
    .catch(error => console.error('Error fetching data:', error));
</script>
</body>
</html>
